<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<title>计算器</title>
	<link rel="stylesheet" type="text/css" href="chongzhibiao.css">
	<style type="text/css">
		.cal {
			position: relative;
			top: 100px;
			left: 400px;
			width: 450px;
			height: 450px;
			border:1px solid silver;
			border-radius: 15px;
		}
		.inputs {
			width: 447px;
			height: 78px;
		}
		.inputs input{
			position: absolute;
			top:14px;
			left: 6px;
			width: 440px;
			height: 78px;
			text-align:right;
			font-size: 40px;
			border:3px solid silver;
		}
		table {
			position: absolute;
			top:96px;
			left: 5px;
			width: 440px;
			height: 345px;
		}
		td {
			width: 103px;
			height: 57px;
		}
		.mission {
			visibility: hidden;
		}
		input[type="button"] {
			width: 103px;
			height: 57px;
		}
		.white {
			background-color: white;
			border:1px solid silver;
			cursor: pointer;
		}
		.gray {
			background-color: #d2d2d2;
			border:1px solid silver;
			cursor: pointer;
		}
		.blue {
			background-color: #498cf5;
			border:1px solid silver;
			cursor: pointer;
		}
	</style>
	<script type="text/javascript">
		function calculator(){
			this.calculation=function(num1,num2,operator){
				var res=0;
				switch(operator){
					case"+":
					res=num1+num2;
					break;
					case"-":
					res=num1-num2;
					break;
					case"X":
					res=num1*num2;
					break;
					case"÷":
					res=num1/num2;
					break;
				}
				return res;
			}
		}
		var fall=new calculator();
		var val=0;//放置输入的值
			nval=0;//放置转换为number的值
			first=0;//放置第一次输入的值
			operator="";//放入输入的操作符
			//osee=document.getElementById('show');
		//获取输入的值
		function typing(e){
			val=e.value;
			var	osee=document.getElementById('show');
			osee.value+=val;
			nval=parseFloat(osee.value);
		}
		//归零，取余
		function operation(e){
			var	osee=document.getElementById('show');
			if(e.value=="AC")
				osee.value="";
			//else if(e.value=="%")
		}
		//输入操作符
		function addsome(e){
			operator=e.value;
			if(e.value=="+")
				{
					var	osee=document.getElementById('show'); 
					first=parseFloat(osee.value);
					osee.value="";
				}
			else if(e.value=="-")
				{
					var	osee=document.getElementById('show'); 
					first=parseFloat(osee.value);
					osee.value="";
				}
			else if(e.value=="X")
				{
					var	osee=document.getElementById('show'); 
					first=parseFloat(osee.value);
					osee.value="";
				}
			else if(e.value=="÷")
				{
					var	osee=document.getElementById('show'); 
					first=parseFloat(osee.value);
					osee.value="";
				}
		}
		//计算结果
		function end(e){
			var	osee=document.getElementById('show'); 
			if(e.value=="=")
			{
				osee.value=fall.calculation(first,nval,operator);
			}
		}
	</script>
</head>
<body>
	<div class="cal">
		<div class="inputs"><input id="show" type="text" value=""></div>
		<table>
			<tr>
				<td class="mission"></td>
				<td class="mission"></td>
				<td><input class="gray" type="button" value="%" onclick="operation(this)"></td>
				<td><input class="gray" type="button" value="AC" onclick="operation(this)"></td>
			</tr>
			<tr>
				<td><input class="white" type="button" value="7" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="8" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="9" onclick="typing(this)"></td>
				<td><input class="gray" type="button" value="÷" onclick="addsome(this)"></td>
			</tr>
			<tr>
				<td><input class="white" type="button" value="4" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="5" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="6" onclick="typing(this)"></td>
				<td><input class="gray" type="button" value="X" onclick="addsome(this)"></td>
			</tr>
			<tr>
				<td><input class="white" type="button" value="1" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="2" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="3" onclick="typing(this)"></td>
				<td><input class="gray" type="button" value="-" onclick="addsome(this)"></td>
			</tr>
			<tr>
				<td><input class="white" type="button" value="0" onclick="typing(this)"></td>
				<td><input class="white" type="button" value="." onclick="typing(this)"></td>
				<td><input class="blue" type="button" value="=" onclick="end(this)"></td>
				<td><input class="gray" type="button" value="+" onclick="addsome(this)"></td>
			</tr>
		</table>
	</div>
</body>
</html>